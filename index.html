<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Alchemy Elements</title>
  <style>
    body {
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 20px;
}

h1, h2 {
  text-align: center;
}

#search {
  text-align: center;
  margin-bottom: 20px;
}

#elementList, #form, #jsonUpload, #elementInfo {
  margin-bottom: 20px;
}

label {
  display: block;
}

button {
  margin-top: 10px;
}

ul {
  list-style-type: none;
  padding: 0;
}

li {
  margin-bottom: 5px;
  position: relative;
}

button {
  position: absolute;
  right: 0;
}

#elementInfo {
  text-align: center;
}

  </style>
</head>
<body>
  <h1>Alchemy Elements</h1>
  <div id="search">
    <input type="text" id="searchInput" oninput="filterElements()" placeholder="Search elements...">
  </div>
  <div id="elementList">
    <h2>Element List</h2>
    <ul id="elements"></ul>
  </div>
  <div id="form">
    <h2>Add Element</h2>
    <label for="elementInput">Enter Element (e.g., water + earth = plant):</label>
    <input type="text" id="elementInput">
    <button onclick="addElement()">Add</button>
  </div>
  <div id="jsonUpload">
    <h2>Upload JSON File</h2>
    <input type="file" id="fileInput" accept=".json">
    <button onclick="parseJSON()">Upload</button>
  </div>
  <div id="elementInfo" style="display: none;">
    <h2>Element Info</h2>
    <p id="elementCreation"></p>
  </div>
  <script>
    // Function to add element to the list
    function addElement() {
      const elementInput = document.getElementById('elementInput').value;
      const elementsList = document.getElementById('elements');
      const listItem = document.createElement('li');
      listItem.textContent = elementInput;
      listItem.onclick = function() {
        showElementInfo(elementInput);
      };
      elementsList.appendChild(listItem);
      saveElements();
    }

    // Function to parse and add elements from JSON file
    function parseJSON() {
      const fileInput = document.getElementById('fileInput');
      const file = fileInput.files[0];
      const reader = new FileReader();
      reader.onload = function(event) {
        const jsonContent = event.target.result;
        const elementsData = JSON.parse(jsonContent)['elements'];
        for (const key in elementsData) {
          const element = elementsData[key];
          const elementString = element[0] + ' + ' + element[1] + ' = ' + element[2];
          const elementsList = document.getElementById('elements');
          const listItem = document.createElement('li');
          listItem.textContent = elementString;
          listItem.onclick = function() {
            showElementInfo(elementString);
          };
          elementsList.appendChild(listItem);
        }
        saveElements();
      };
      reader.readAsText(file);
    }

    // Function to save elements to local storage
    function saveElements() {
      const elementsList = document.getElementById('elements');
      const elements = [];
      elementsList.querySelectorAll('li').forEach(item => elements.push(item.textContent));
      localStorage.setItem('elements', JSON.stringify(elements));
    }

    // Function to load elements from local storage
    function loadElements() {
      const elements = JSON.parse(localStorage.getItem('elements'));
      const elementsList = document.getElementById('elements');
      elements.forEach(element => {
        const listItem = document.createElement('li');
        listItem.textContent = element;
        listItem.onclick = function() {
          showElementInfo(element);
        };
        elementsList.appendChild(listItem);
      });
    }

    // Function to filter elements based on search input
    function filterElements() {
      const searchInput = document.getElementById('searchInput').value.toLowerCase();
      const elementsList = document.getElementById('elements');
      elementsList.querySelectorAll('li').forEach(item => {
        const text = item.textContent.toLowerCase();
        if (text.includes(searchInput)) {
          item.style.display = 'block';
        } else {
          item.style.display = 'none';
        }
      });
    }

    // Function to show element information
    function showElementInfo(element) {
      const elementInfo = document.getElementById('elementInfo');
      const elementCreation = document.getElementById('elementCreation');
      const combinations = getCombinations(element);
      let combinationText = '';
      combinations.forEach((combination, index) => {
        combinationText += `${index + 1}. ${combination}\n`;
      });
      elementCreation.textContent = combinationText;
      elementInfo.style.display = 'block';
    }

    // Function to get combinations required for creating the selected element
    function getCombinations(element) {
      const combinations = [];
      // Add your logic to generate combinations based on the provided
    // element
      // For demonstration purposes, let's assume some combinations
      switch (element) {
        case 'Swamp':
          combinations.push("Earth + Water = Plant");
          combinations.push("Plant + Plant = Tree");
          combinations.push("Water + Fire = Stone");
          combinations.push("Stone + Water = Mud");
          combinations.push("Mud + Tree = Swamp (final step)");
          break;
        // Add cases for other elements if needed
      }
      return combinations;
    }

    // Load elements when the page is loaded
    window.onload = loadElements;
  </script>
</body>
</html>
